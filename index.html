<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’å‹•å¼æ•™å­¸è³‡æºä¸­å¿ƒ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- 
    Chosen Palette: Serene Professional (Light Gray background, Slate for text, with Teal as a primary accent)
    Application Structure Plan: A single-page application (SPA) designed as a "Learning Portal". The initial view is a main hub with a hero section and a grid of "tool cards". Clicking a tool card (e.g., "SoundWave Explorer", "Coach Talk Cards", "Interactive Quiz") dynamically hides the hub view and injects the selected tool's full HTML and initializes its specific JS logic into a dedicated container. A "back" button allows users to return to the main hub. This structure is highly scalable for future content and provides a seamless, professional user experience.
    Visualization & Content Choices: 
    - Report Info: The original interactive card flipper, the SoundWave Explorer artifact, and a new quiz module.
    - Goal: Integrate multiple, pre-existing and new interactive applications into a larger portal structure.
    - Viz/Presentation Method: 
        1. Main Portal: Card-based layout (HTML/Tailwind) to represent available tools.
        2. Tool Loading: A container div (`<div id="tool-container">`) is populated with the selected tool's HTML via a JavaScript template literal.
        3. Quiz: A "flippable" card interface. Clicking the card toggles between question and answer views.
    - Interaction: Clicking a card triggers a view change. The JS logic for the loaded tool is then executed to make it interactive.
    - Justification: This approach reuses existing complex interactive content while adding new, distinct modules within a scalable framework. The quiz reinforces learning through practical application.
    - Library/Method: Vanilla JS for view management and dynamic content injection. The embedded tools use their original logic (Vanilla JS, Chart.js).
    CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F9FAFB;
        }
        .tool-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        #tool-view {
            display: none;
        }
        .quiz-card-flipper {
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .is-flipped {
            transform: rotateY(180deg);
        }
        .quiz-card-face {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            position: absolute;
            width: 100%;
            height: 100%;
        }
        .quiz-card-back {
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transform: rotateY(180deg);
            position: absolute;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Main Portal View -->
    <div id="main-portal">
        <header class="bg-white">
            <div class="container mx-auto px-6 py-12 text-center">
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900">äº’å‹•å¼æ•™å­¸è³‡æºä¸­å¿ƒ</h1>
                <p class="mt-4 text-lg text-slate-600 max-w-2xl mx-auto">ä¸€å€‹å°ˆç‚ºæå‡æºé€šèˆ‡èªçŸ¥æŠ€å·§è€Œè¨­è¨ˆçš„å­¸ç¿’å¹³å°ã€‚æ¢ç´¢æˆ‘å€‘çš„å·¥å…·ï¼Œé–‹å•Ÿæ‚¨çš„å­¸ç¿’ä¹‹æ—…ã€‚</p>
            </div>
        </header>

        <main class="container mx-auto px-6 py-16">
            <h2 class="text-3xl font-bold text-center mb-12">å¯ç”¨å·¥å…·</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
                
                <!-- SoundWave Tool Card -->
                <div id="launch-soundwave" class="tool-card bg-white rounded-xl shadow-md overflow-hidden cursor-pointer flex flex-col">
                    <div class="p-8 flex-grow">
                        <div class="flex items-center mb-4">
                            <div class="p-3 rounded-full bg-teal-100 mr-4">
                                <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.636 5.636a9 9 0 0112.728 0m-9.9-2.828a5 5 0 017.072 0"></path></svg>
                            </div>
                            <h3 class="text-2xl font-bold text-slate-900">SoundWave</h3>
                        </div>
                        <p class="text-slate-600">ä¸€å€‹äº’å‹•å¼æ¢ç´¢å·¥å…·ï¼Œå¹«åŠ©æ‚¨æ·±å…¥ç†è§£ SoundWave æºé€šæ¨¡å‹ä¸­çš„ä¹ç¨®è²éŸ³èˆ‡ä¸‰å¤§æ ¸å¿ƒæ¨¡çµ„ã€‚</p>
                    </div>
                    <div class="p-8 pt-0">
                         <button class="mt-6 w-full bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors">
                            å•Ÿå‹•å·¥å…·
                        </button>
                    </div>
                </div>
                
                <!-- Coach Talk Card Tool -->
                <div id="launch-coachtalk" class="tool-card bg-white rounded-xl shadow-md overflow-hidden cursor-pointer flex flex-col">
                    <div class="p-8 flex-grow">
                        <div class="flex items-center mb-4">
                           <div class="p-3 rounded-full bg-sky-100 mr-4">
                                <svg class="w-6 h-6 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path></svg>
                            </div>
                            <h3 class="text-2xl font-bold text-slate-900">æ•™ç·´å°è©±å¡ç‰‡</h3>
                        </div>
                        <p class="text-slate-600">ä»¥å¡ç‰‡ç€è¦½çš„æ–¹å¼ï¼Œå¿«é€Ÿå­¸ç¿’ SoundWave çš„æ ¸å¿ƒæ¨¡çµ„ã€ä¹ç¨®è²éŸ³ï¼Œä»¥åŠå¦‚ä½•è½‰åŒ–é™åˆ¶æ€§èªè¨€ã€‚</p>
                    </div>
                    <div class="p-8 pt-0">
                         <button class="mt-6 w-full bg-sky-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-700 transition-colors">
                            å•Ÿå‹•å·¥å…·
                        </button>
                    </div>
                </div>
                
                <!-- Interactive Quiz Tool Card -->
                <div id="launch-quiz" class="tool-card bg-white rounded-xl shadow-md overflow-hidden cursor-pointer flex flex-col">
                    <div class="p-8 flex-grow">
                        <div class="flex items-center mb-4">
                           <div class="p-3 rounded-full bg-amber-100 mr-4">
                                <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                            </div>
                            <h3 class="text-2xl font-bold text-slate-900">æƒ…å¢ƒæ¸¬é©—</h3>
                        </div>
                        <p class="text-slate-600">é€éè·å ´å¯¦å‹™æ¡ˆä¾‹ï¼Œæ¸¬é©—æ‚¨å°ä¹ç¨®è²éŸ³çš„æ‡‰ç”¨èƒ½åŠ›ï¼Œé»æ“Šé¡Œç›®å¡ç‰‡ä»¥é¡¯ç¤ºå»ºè­°è§£ç­”ã€‚</p>
                    </div>
                    <div class="p-8 pt-0">
                         <button class="mt-6 w-full bg-amber-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-600 transition-colors">
                            å•Ÿå‹•å·¥å…·
                        </button>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Tool View (Initially Hidden) -->
    <div id="tool-view">
        <nav class="bg-white shadow-sm sticky top-0 z-50">
            <div class="container mx-auto px-6 py-3 flex justify-between items-center">
                <h2 id="tool-title" class="text-xl font-bold text-slate-800"></h2>
                <button id="back-to-portal" class="bg-gray-700 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition-colors">
                    è¿”å›ä¸»é 
                </button>
            </div>
        </nav>
        <div id="tool-container" class="p-2 md:p-4">
            <!-- The selected tool's HTML will be injected here -->
        </div>
    </div>
    
    <footer class="text-center py-8 text-slate-500">
        <p>&copy; 2025 äº’å‹•å¼æ•™å­¸è³‡æºä¸­å¿ƒ. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const mainPortal = document.getElementById('main-portal');
            const toolView = document.getElementById('tool-view');
            const toolContainer = document.getElementById('tool-container');
            const toolTitle = document.getElementById('tool-title');

            const launchSoundwaveBtn = document.getElementById('launch-soundwave');
            const launchCoachTalkBtn = document.getElementById('launch-coachtalk');
            const launchQuizBtn = document.getElementById('launch-quiz');
            const backToPortalBtn = document.getElementById('back-to-portal');
            
            // --- Templates for tools ---

            const quizToolHTML = `
                <div id="quiz-root" class="flex flex-col items-center justify-center min-h-[80vh] bg-gray-50 p-4 space-y-8 font-sans">
                    <div class="text-center">
                        <h1 class="text-3xl font-bold text-slate-800">9-Voice æ‡‰ç”¨æƒ…å¢ƒæ¸¬é©—</h1>
                        <p class="text-slate-500 mt-2">é»æ“Šä¸‹æ–¹çš„å¡ç‰‡ä¾†é¡¯ç¤º/éš±è—è§£ç­”</p>
                    </div>

                    <div id="quiz-card-container" class="w-full max-w-2xl h-80" style="perspective: 1000px;">
                        <div id="quiz-card-flipper" class="quiz-card-flipper w-full h-full relative cursor-pointer">
                            <!-- Card Front (Question) -->
                            <div id="quiz-card-front" class="quiz-card-face p-8 bg-white rounded-2xl shadow-xl border border-gray-200 flex flex-col justify-center"></div>
                            <!-- Card Back (Answer) -->
                            <div id="quiz-card-back" class="quiz-card-back p-8 bg-teal-50 rounded-2xl shadow-xl border border-teal-200 flex flex-col justify-center"></div>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-6">
                        <button id="prev-quiz" class="bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 inline-flex items-center disabled:opacity-50">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                            ä¸Šä¸€é¡Œ
                        </button>
                        <span id="quiz-progress" class="text-sm font-medium text-gray-600 w-16 text-center"></span>
                        <button id="next-quiz" class="bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 inline-flex items-center disabled:opacity-50">
                            ä¸‹ä¸€é¡Œ
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                        </button>
                    </div>
                </div>
            `;

            const coachTalkCardToolHTML = `
                <div id="coachtalk-root" class="flex flex-col items-center justify-center min-h-[80vh] bg-gray-50 p-4 space-y-6 font-sans">
                    <div id="card-display" class="w-full max-w-lg text-left shadow-xl transition-all duration-300 ease-in-out bg-white rounded-2xl border border-gray-200">
                        <div class="p-8">
                            <h2 id="card-title" class="text-2xl font-bold mb-4 text-gray-800"></h2>
                            <div id="card-content" class="whitespace-pre-wrap text-base text-gray-700 leading-relaxed"></div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-6">
                        <button id="prev-card" class="bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 inline-flex items-center">
                            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                            ä¸Šä¸€å¼µ
                        </button>
                        <span id="card-progress" class="text-sm font-medium text-gray-600 w-16 text-center"></span>
                        <button id="next-card" class="bg-gray-800 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-700 inline-flex items-center">
                            ä¸‹ä¸€å¼µ
                            <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                        </button>
                    </div>
                </div>
            `;

            const soundwaveToolHTML = `
                <div id="soundwave-root" class="w-full h-full">
                    <main class="container mx-auto py-10 px-4">
                        <div id="module-nav" class="flex flex-col sm:flex-row justify-center items-center space-y-2 sm:space-y-0 sm:space-x-4 mb-8"></div>
                        <div class="lg:grid lg:grid-cols-12 lg:gap-8">
                            <div class="lg:col-span-4 mb-8 lg:mb-0">
                                <h2 id="voice-section-title" class="text-2xl font-bold mb-4 text-gray-700"></h2>
                                <div id="voice-cards-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4"></div>
                            </div>
                            <div class="lg:col-span-8">
                                <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 md:p-8 sticky top-24">
                                    <div id="content-panel" class="mb-8" style="transition: opacity 0.4s ease-in-out;"></div>
                                    <div>
                                        <h3 class="text-xl font-semibold text-center mb-4 text-gray-700">è²éŸ³ç‰¹è³ªåˆ†æ</h3>
                                        <div style="position: relative; width: 100%; max-width: 450px; margin-left: auto; margin-right: auto; height: 300px; max-height: 400px;">
                                            <canvas id="voiceChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>`;
            
            function initQuizTool() {
                const quizData = [
                    {
                        question: "æƒ…å¢ƒï¼šä¸€ä½åœ˜éšŠæˆå“¡é€£çºŒå…©æ¬¡åœ¨å°ˆæ¡ˆå ±å‘Šä¸­é²äº¤ä»–è² è²¬çš„éƒ¨åˆ†ï¼Œå½±éŸ¿äº†åœ˜éšŠçš„æ•´é«”é€²åº¦ã€‚ä½ ä½œç‚ºå°ˆæ¡ˆç¶“ç†ï¼Œéœ€è¦å’Œä»–æºé€šã€‚ä½ é¦–å…ˆæœƒä½¿ç”¨å“ªç¨®è²éŸ³ï¼Ÿ",
                        answer: {
                            voice: "è²éŸ³ï¼šç³¾æ­£ (Correct)",
                            reason: "ç›®æ¨™æ˜¯ç¶­æŒåœ˜éšŠå…±åŒå»ºç«‹çš„æ¨™æº–èˆ‡æœŸæœ›ã€‚ä½¿ç”¨ã€ç³¾æ­£ã€çš„è²éŸ³ï¼Œç›´æ¥ä¸”æ¸…æ™°åœ°é‡ç”³æäº¤æœŸé™çš„è¦å‰‡ï¼Œæ˜¯ç®¡ç†ç•Œç·šä¸¦ç¢ºä¿å°ˆæ¡ˆé †åˆ©é€²è¡Œçš„ç¬¬ä¸€æ­¥ã€‚"
                        }
                    },
                    {
                        question: "æƒ…å¢ƒï¼šåœ¨ä¸€æ¬¡è…¦åŠ›æ¿€ç›ªæœƒè­°ä¸Šï¼Œåœ˜éšŠæå‡ºçš„è¡ŒéŠ·é»å­éƒ½éå¸¸ä¿å®ˆï¼Œèˆ‡éå»çš„ä½œæ³•å¤§åŒå°ç•°ã€‚ä½ å¸Œæœ›æ¿€ç™¼åœ˜éšŠç”¢ç”Ÿæ›´å…·çªç ´æ€§çš„æƒ³æ³•ã€‚ä½ æœƒä½¿ç”¨å“ªç¨®è²éŸ³ï¼Ÿ",
                        answer: {
                            voice: "è²éŸ³ï¼šæŒ‘æˆ° (Challenge)",
                            reason: "ã€æŒ‘æˆ°ã€çš„è²éŸ³æ—¨åœ¨çªç ´ç¾ç‹€ã€è³ªç–‘å‡è¨­ã€‚é€éã€æˆ‘å€‘ç‚ºä»€éº¼ä¸è©¦è©¦å®Œå…¨ä¸åŒçš„æ–¹å‘ï¼Ÿã€æˆ–ã€å¦‚æœé ç®—ä¸æ˜¯å•é¡Œï¼Œæˆ‘å€‘æœƒæ€éº¼åšï¼Ÿã€é€™é¡æå•ï¼Œå¯ä»¥æœ‰æ•ˆæ‰“ç ´æ€ç¶­æ¡†æ¶ï¼Œä¿ƒé€²å‰µæ–°ã€‚"
                        }
                    },
                    {
                        question: "æƒ…å¢ƒï¼šä¸€ä½æ–°é€²å“¡å·¥çœ‹èµ·ä¾†å°åˆ†é…çµ¦ä»–çš„ä»»å‹™æ„Ÿåˆ°å›°æƒ‘ï¼Œä½†ä»–ä¼¼ä¹ä¸å¥½æ„æ€é–‹å£æ±‚åŠ©ã€‚ä½ æƒ³è¦äº†è§£ä»–çš„ç‹€æ³ä¸¦æä¾›å”åŠ©ã€‚ä½ æœƒå„ªå…ˆä½¿ç”¨å“ªç¨®è²éŸ³ï¼Ÿ",
                        answer: {
                            voice: "è²éŸ³ï¼šæ¢è©¢ (Inquire)",
                            reason: "ä½¿ç”¨ã€æ¢è©¢ã€çš„è²éŸ³ï¼Œå¸¶è‘—çœŸèª çš„å¥½å¥‡å¿ƒèˆ‡é–‹æ”¾æ€§æå•ï¼Œä¾‹å¦‚ã€é—œæ–¼é€™å€‹ä»»å‹™ï¼Œç›®å‰ä½ æ„Ÿè¦ºå¦‚ä½•ï¼Ÿã€ï¼Œå¯ä»¥å»ºç«‹ä¸€å€‹å®‰å…¨çš„å°è©±ç’°å¢ƒï¼Œè®“ä»–é¡˜æ„åˆ†äº«å›°é›£é»ï¼Œè€Œä¸æ˜¯ç›´æ¥çµ¦äºˆæŒ‡å°ã€‚"
                        }
                    },
                    {
                        question: "æƒ…å¢ƒï¼šä½ çš„åŒäº‹å‘ä½ å±•ç¤ºä¸€å€‹ä»–èŠ±äº†å¾ˆå¤šæ™‚é–“æº–å‚™çš„ææ¡ˆã€‚ä½ çœ‹å®Œå¾Œï¼Œè¦ºå¾—å…¶ä¸­æœ‰äº›éƒ¨åˆ†éå¸¸æœ‰æ½›åŠ›ï¼Œä½†åŸ·è¡Œè¨ˆç•«å»å­˜åœ¨æ˜é¡¯çš„é¢¨éšªã€‚ä½ æœƒå¦‚ä½•çµ¦äºˆå›é¥‹ï¼Ÿ",
                        answer: {
                            voice: "è²éŸ³ï¼šè©•è«– (Critique)",
                            reason: "ã€è©•è«–ã€çš„è²éŸ³å°ˆé•·æ–¼å¹³è¡¡åœ°è©•ä¼°åˆ©å¼Šã€‚ä½ å¯ä»¥å®¢è§€åœ°èªªï¼šã€é€™å€‹ææ¡ˆçš„å¸‚å ´åˆ†æéå¸¸æœ‰è¦‹åœ°ï¼ˆå„ªé»ï¼‰ï¼ŒåŒæ™‚ï¼Œæˆ‘å€‘å¯èƒ½éœ€è¦æ›´æ·±å…¥åœ°è©•ä¼°åŸ·è¡Œé ç®—ï¼ˆç¼ºé»ï¼‰ã€‚ã€é€™èƒ½æä¾›å»ºè¨­æ€§ä¸”å…¨é¢çš„å›é¥‹ã€‚"
                        }
                    },
                    {
                        question: "æƒ…å¢ƒï¼šå…¬å¸æ­£åœ¨è€ƒæ…®æ˜¯å¦è¦æŠ•å…¥è³‡æºé–‹ç™¼ä¸€é …å‰µæ–°çš„ç¶ èƒ½æŠ€è¡“ã€‚ä½ å°æ­¤æ·±å…·ä¿¡å¿ƒï¼Œä¸¦å¸Œæœ›èƒ½èªªæœé«˜å±¤æ”¯æŒé€™å€‹æ±ºç­–ã€‚ä½ æœƒä¸»è¦ä½¿ç”¨å“ªç¨®è²éŸ³ä¾†è¡¨é”ï¼Ÿ",
                        answer: {
                            voice: "è²éŸ³ï¼šå€¡å° (Advocate)",
                            reason: "ã€å€¡å°ã€çš„è²éŸ³æ˜¯ç‚ºäº†å½±éŸ¿ä»–äººä¸¦å¼•ç™¼è¡Œå‹•ã€‚ç•¶ä½ éœ€è¦æ˜ç¢ºè¡¨é”ç«‹å ´ã€è¨´è«¸æƒ…æ„Ÿèˆ‡ç†æ™ºä¾†çˆ­å–æ”¯æŒæ™‚ï¼Œé€™æ˜¯æœ€å¼·è€Œæœ‰åŠ›çš„è²éŸ³ã€‚ä½ éœ€è¦å……æ»¿ç†±æƒ…åœ°é—¡è¿°é€™å€‹æ±ºç­–çš„é•·é åƒ¹å€¼èˆ‡é¡˜æ™¯ã€‚"
                        }
                    }
                ];

                let currentQuizIndex = 0;
                const flipper = document.getElementById('quiz-card-flipper');
                const front = document.getElementById('quiz-card-front');
                const back = document.getElementById('quiz-card-back');
                const progress = document.getElementById('quiz-progress');
                const prevBtn = document.getElementById('prev-quiz');
                const nextBtn = document.getElementById('next-quiz');

                function renderQuiz() {
                    flipper.classList.remove('is-flipped');
                    const item = quizData[currentQuizIndex];
                    
                    front.innerHTML = `<p class="text-xl text-slate-700 leading-relaxed">${item.question}</p>`;
                    back.innerHTML = `
                        <h4 class="text-xl font-bold text-teal-800 mb-3">${item.answer.voice}</h4>
                        <p class="text-slate-700 leading-relaxed">${item.answer.reason}</p>
                    `;
                    progress.textContent = `ç¬¬ ${currentQuizIndex + 1} / ${quizData.length} é¡Œ`;

                    prevBtn.disabled = currentQuizIndex === 0;
                    nextBtn.disabled = currentQuizIndex === quizData.length - 1;
                }
                
                document.getElementById('quiz-card-container').addEventListener('click', () => {
                    flipper.classList.toggle('is-flipped');
                });

                prevBtn.addEventListener('click', () => {
                    if (currentQuizIndex > 0) {
                        currentQuizIndex--;
                        renderQuiz();
                    }
                });

                nextBtn.addEventListener('click', () => {
                    if (currentQuizIndex < quizData.length - 1) {
                        currentQuizIndex++;
                        renderQuiz();
                    }
                });
                
                renderQuiz();
            }

            function initCoachTalkCardTool() {
                const cards = [
                    { title: "æ ¸å¿ƒæ¨¡çµ„ï¼šæå• (Ask)", content: "ğŸ”¹ç›®çš„ï¼šWe ask to understand, engage and discover.\nï¼ˆæˆ‘å€‘è—‰ç”±æå•ä¾†ç†è§£ã€æŠ•å…¥èˆ‡ç™¼ç¾ã€‚ï¼‰\n\nğŸ”¸åŒ…å«è²éŸ³ï¼šæ¢è©¢ (Inquire), è¨ºæ–· (Diagnose), æ·±ç©¶ (Probe)" },
                    { title: "æ ¸å¿ƒæ¨¡çµ„ï¼šæé†’ (Tell)", content: "ğŸ”¹ç›®çš„ï¼šWe tell to shape, instruct and disrupt.\nï¼ˆæˆ‘å€‘è—‰ç”±æé†’ä¾†å¡‘é€ ã€æŒ‡å°èˆ‡çªç ´ã€‚ï¼‰\n\nğŸ”¸åŒ…å«è²éŸ³ï¼šè©•è«– (Critique), ç³¾æ­£ (Correct), æŒ‘æˆ° (Challenge)" },
                    { title: "æ ¸å¿ƒæ¨¡çµ„ï¼šæè­° (Suggest)", content: "ğŸ”¹ç›®çš„ï¼šWe suggest to influence, appeal and describe.\nï¼ˆæˆ‘å€‘è—‰ç”±æè­°ä¾†å½±éŸ¿ã€å¸å¼•èˆ‡æè¿°ã€‚ï¼‰\n\nğŸ”¸åŒ…å«è²éŸ³ï¼šè¡¨è¿° (Articulate), å»ºè­° (Advise), å€¡å° (Advocate)" },
                    { title: "è²éŸ³ï¼šæ¢è©¢ Inquire", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šå¸¶è‘—å¥½å¥‡èˆ‡é–‹æ”¾çš„æå•ï¼Œå»ºç«‹é—œä¿‚èˆ‡äº†è§£ç¾æ³ã€‚é©åˆåœ¨äº‹æƒ…å°šæœªæ˜æœ—æ™‚ä½¿ç”¨ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šé—œæ–¼é€™ä»¶äº‹ï¼Œå¯ä»¥å¤šèªªä¸€é»ä½ çš„æƒ³æ³•å—ï¼Ÿ\nğŸ’¡å»ºè­°æå•ï¼šä½ å°ç›®å‰ç‹€æ³çš„ç†è§£æ˜¯ä»€éº¼ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šè¨ºæ–· Diagnose", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šé‹ç”¨é‚è¼¯èˆ‡æå•é‡æ¸…åŸå› èˆ‡å½±éŸ¿ï¼Œæœ‰åŠ©æ–¼å•é¡Œè§£æ±ºèˆ‡ç³»çµ±æ€§ç†è§£ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šé€ æˆé€™å€‹ç‹€æ³çš„æ ¹æœ¬åŸå› æ˜¯ä»€éº¼ï¼Ÿ\nğŸ’¡å»ºè­°æå•ï¼šå¦‚æœæˆ‘å€‘ä¸€æ­¥æ­¥å›æ¨ï¼Œå•é¡Œæ˜¯å¾å“ªè£¡é–‹å§‹çš„ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šæ·±ç©¶ Probe", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šè¿½å•éš±è—è³‡è¨Šï¼Œé‡å°æ¨¡ç³Šè™•æ·±å…¥æŒ–æ˜ï¼Œå¹«åŠ©æ›´æ·±å…¥ç†è§£ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šä½ æåˆ°...ï¼Œé€™èƒŒå¾Œé‚„æœ‰ä»€éº¼æˆ‘å€‘æ²’çœ‹åˆ°çš„å—ï¼Ÿ\nğŸ’¡å»ºè­°æå•ï¼šé—œæ–¼é€™é»ï¼Œé‚„æœ‰å“ªäº›ç´°ç¯€å¾ˆé‡è¦ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šè¡¨è¿° Articulate", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šæ¸…æ¥šé™³è¿°ã€ç¸½çµèˆ‡é—¡è¿°ï¼Œå‰µé€ ä¸­æ€§å¹³å°ä¿ƒé€²å…±è­˜èˆ‡åƒèˆ‡ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šæ‰€ä»¥ï¼Œæˆ‘ç¸½çµä¸€ä¸‹æˆ‘å€‘ç›®å‰çš„å…±è­˜æ˜¯...ã€‚\nğŸ’¡å»ºè­°æå•ï¼šæˆ‘å¯ä»¥è¦†è¿°ä¸€æ¬¡æˆ‘çš„ç†è§£ï¼Œä¾†ç¢ºèªæˆ‘å€‘æœ‰ä¸€è‡´çš„çœ‹æ³•å—ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šå»ºè­° Advise", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šåŸºæ–¼ç¶“é©—æå‡ºå»ºè­°èˆ‡æ–¹å‘ï¼Œé©åˆæä¾›æ”¯æŒèˆ‡è³‡è¨Šã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šæ ¹æ“šæˆ‘çš„ç¶“é©—ï¼Œæˆ‘å»ºè­°ä½ å¯ä»¥...\nğŸ’¡å»ºè­°æå•ï¼šæˆ‘æœ‰äº›æƒ³æ³•ï¼Œä½ æƒ³è½è½çœ‹ä½œç‚ºåƒè€ƒå—ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šå€¡å° Advocate", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šæ˜ç¢ºè¡¨é”ç«‹å ´èˆ‡è§€é»ï¼Œç”¨ä¾†å½±éŸ¿ä»–äººã€å¼•ç™¼è¡Œå‹•ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šæˆ‘å …ä¿¡ï¼Œé€™å°æˆ‘å€‘åœ˜éšŠæ˜¯æœ€å¥½çš„æ–¹å‘ã€‚\nğŸ’¡å»ºè­°æå•ï¼šæˆ‘ä¾†èªªæ˜ç‚ºä»€éº¼é€™ä»¶äº‹è‡³é—œé‡è¦ï¼Œå¥½å—ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šæŒ‘æˆ° Challenge", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šæŒ‡å‡ºç›²é»èˆ‡è³ªç–‘å‡è¨­ï¼Œä¿ƒé€²æ€è¾¨èˆ‡æ”¹è®Šç¾ç‹€ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šæˆ‘å€‘æ˜¯å¦æƒ³éï¼Œå¦‚æœ...æœƒæ€éº¼æ¨£ï¼Ÿ\nğŸ’¡å»ºè­°æå•ï¼šé™¤äº†ç›®å‰çš„æ–¹æ³•ï¼Œé‚„æœ‰æ²’æœ‰æ›´å¤§è†½çš„å˜—è©¦ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šç³¾æ­£ Correct", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šæ¸…æ¥šå®šç¾©ç•Œç·šã€è¦ç¯„èˆ‡æœŸæœ›ï¼Œå”åŠ©ç¶­æŒæ¨™æº–èˆ‡æ”¹é€²ã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šæé†’ä¸€ä¸‹ï¼Œæˆ‘å€‘çš„æœƒè­°åŸå‰‡æ˜¯æº–æ™‚é–‹å§‹ã€‚\nğŸ’¡å»ºè­°æå•ï¼šç‚ºäº†é”æˆç›®æ¨™ï¼Œæˆ‘å€‘éœ€è¦å…±åŒéµå®ˆçš„è¦å‰‡æ˜¯ä»€éº¼ï¼Ÿ" },
                    { title: "è²éŸ³ï¼šè©•è«– Critique", content: "ğŸ”¹åŠŸèƒ½èˆ‡æ‡‰ç”¨ï¼šå¹³è¡¡åœ°è©•ä¼°åˆ©å¼Šã€å„ªç¼ºé»ï¼Œæå‡æ€è€ƒèˆ‡æ±ºç­–å“è³ªã€‚\n\nğŸ’¬å…¸å‹èªå¥ï¼šé€™å€‹åšæ³•çš„å„ªé»æ˜¯...ï¼Œä½†æˆ‘å€‘ä¹Ÿè¦è€ƒæ…®åˆ°...ã€‚\nğŸ’¡å»ºè­°æå•ï¼šè®“æˆ‘å€‘ä¸€èµ·ä¾†çœ‹çœ‹é€™å€‹æ–¹æ¡ˆçš„æ­£åå…©é¢æ˜¯ä»€éº¼ï¼Ÿ" },
                    { title: "é™åˆ¶èªå¥ï¼šæˆ‘æ ¹æœ¬æ²’è¾¦æ³•èªªæœä»–ã€‚", content: "èªè¨€æ¨¡å¼ï¼šä¸€èˆ¬åŒ– + ç„¡åŠ©æ„Ÿ\næ•™ç·´å¼æå•ï¼šä½ éå»æœ‰æˆåŠŸå½±éŸ¿ä»–çš„æ™‚å€™å—ï¼Ÿ\nè½‰åŒ–å¥ï¼šæˆ‘å¯ä»¥è©¦å¹¾ç¨®ä¸åŒç­–ç•¥ã€‚" },
                    { title: "é™åˆ¶èªå¥ï¼šä»–å€‘å¾ä¾†éƒ½ä¸è½æˆ‘èªªè©±ã€‚", content: "èªè¨€æ¨¡å¼ï¼šæ¥µç«¯åŒ–èªè¨€ï¼ˆå¾ä¸ï¼‰\næ•™ç·´å¼æå•ï¼šæœ‰æ²’æœ‰ä¾‹å¤–çš„æ™‚å€™ï¼Ÿ\nè½‰åŒ–å¥ï¼šæˆ‘æƒ³æ‰¾æ–¹æ³•è®“æºé€šæ›´æœ‰æ•ˆã€‚" },
                    { title: "é™åˆ¶èªå¥ï¼šé€™å°±æ˜¯è¦å®šï¼Œæˆ‘ä¸èƒ½æ”¹ã€‚", content: "èªè¨€æ¨¡å¼ï¼šåˆªé™¤ä¸»é«”\næ•™ç·´å¼æå•ï¼šèª°è¨‚çš„è¦å®šï¼Ÿä½ æœ‰ä»€éº¼å½ˆæ€§ï¼Ÿ\nè½‰åŒ–å¥ï¼šæˆ‘å¯ä»¥æå‡ºä¿®æ”¹å»ºè­°ã€‚" },
                    { title: "é™åˆ¶èªå¥ï¼šæˆ‘ä¸æ˜¯é‚£ç¨®æœ‰å‰µæ„çš„äººã€‚", content: "èªè¨€æ¨¡å¼ï¼šè‡ªæˆ‘æ¨™ç±¤\næ•™ç·´å¼æå•ï¼šä½ è¦ºå¾—å‰µæ„çš„å®šç¾©æ˜¯ä»€éº¼ï¼Ÿ\nè½‰åŒ–å¥ï¼šæˆ‘å¯ä»¥åŸ¹é¤Šå‰µæ„æ€è€ƒçš„èƒ½åŠ›ã€‚" }
                ];
                let currentIndex = 0;
                
                const cardTitle = document.getElementById('card-title');
                const cardContent = document.getElementById('card-content');
                const cardProgress = document.getElementById('card-progress');
                const prevBtn = document.getElementById('prev-card');
                const nextBtn = document.getElementById('next-card');

                function updateCard() {
                    const card = cards[currentIndex];
                    cardTitle.textContent = card.title;
                    cardContent.textContent = card.content;
                    cardProgress.textContent = `${currentIndex + 1} / ${cards.length}`;
                }

                prevBtn.addEventListener('click', () => {
                    currentIndex = (currentIndex - 1 + cards.length) % cards.length;
                    updateCard();
                });

                nextBtn.addEventListener('click', () => {
                    currentIndex = (currentIndex + 1) % cards.length;
                    updateCard();
                });
                
                updateCard();
            }

            function initSoundWaveTool() {
                const soundWaveData = {
                    modules: [
                        { id: 'ask', name: 'æå• (Ask)', color: '#34D399' },
                        { id: 'suggest', name: 'æè­° (Suggest)', color: '#FBBF24' },
                        { id: 'tell', name: 'æé†’ (Tell)', color: '#60A5FA' },
                    ],
                    voices: [
                        { id: 'inquire', moduleId: 'ask', name: 'æ¢è©¢ (Inquire)', title: 'çµ¦äºˆé—œæ³¨çš„æ™ºæ…§', core: 'æ¢è©¢çš„æ™ºæ…§åœ¨æ–¼è¶…è¶Šé¡¯è€Œæ˜“è¦‹çš„äº‹ç‰©ï¼Œæå‡ºé–‹æ”¾æ€§å•é¡Œä»¥æŒçºŒæ¢ç´¢ã€‚', functions: ['é–‹å•Ÿå°è©±', 'å¼•å°å°è©±èµ°å‘ç†è§£', 'å»ºç«‹é€£çµ'], examples: ['å—¨ï¼Œä½ å¥½å—ï¼Ÿ', 'ä½ çš„é‚£å€‹å°ˆæ¡ˆé€²è¡Œå¾—å¦‚ä½•ï¼Ÿ', 'ä½ èªç‚ºä½ æœ€å¥½çš„é¸æ“‡æ˜¯ä»€éº¼ï¼Ÿ'], profile: { 'æ¢ç´¢æ€§': 5, 'æŒ‡å°æ€§': 1, 'å»ºè¨­æ€§': 4, 'å½±éŸ¿æ€§': 2, 'çªç ´æ€§': 1 } },
                        { id: 'probe', moduleId: 'ask', name: 'æ·±ç©¶ (Probe)', title: 'ç™¼æ˜çœŸç›¸çš„æ™ºæ…§',core: 'ã€Œæ·±ç©¶ã€è²éŸ³èƒ½è®“æˆ‘å€‘å°‡å°è©±è¶…è¶Šè¡¨é¢ã€‚', functions: ['é¼“å‹µæ›´æ·±å±¤çš„åæ€', 'å¾¹åº•åœ°æ¢è¨è­°é¡Œ', 'å»ºè¨­æ€§åœ°å›æ‡‰å›°æƒ‘æˆ–æ¨¡ç³Šä¹‹è™•'], examples: ['ä½ ç‚ºä»€éº¼èªç‚ºæœƒé€™æ¨£ï¼Ÿ', 'å¤šå‘Šè¨´æˆ‘ä¸€äº›é‚£æ–¹é¢çš„äº‹ã€‚', 'è«‹è§£é‡‹ä¸€ä¸‹ä½ çš„æ„æ€ã€‚'], profile: { 'æ¢ç´¢æ€§': 5, 'æŒ‡å°æ€§': 2, 'å»ºè¨­æ€§': 5, 'å½±éŸ¿æ€§': 2, 'çªç ´æ€§': 2 } },
                        { id: 'diagnose', moduleId: 'ask', name: 'è¨ºæ–· (Diagnose)', title: 'å®šç¾©å•é¡Œçš„æ™ºæ…§',core: 'ã€Œè¨ºæ–·ã€æ˜¯ç‚ºäº†å°‹æ±‚è§£æ±ºæ–¹æ¡ˆï¼é€éæå•ä¾†å®šç¾©å•é¡Œã€‚', functions: ['æ‰¾åˆ°å•é¡Œçš„æ ¹æº', 'ç”¢ç”Ÿé€£è²«ä¸”é€å¾¹çš„è§£é‡‹', 'ä»¥é©æ‡‰å’Œç™¼å±•æ€ç¶­çš„æ–¹å¼æ‡‰å°æŒ‘æˆ°'], examples: ['å¦‚æœä½ å°æ­¤èªªã€Œæ˜¯ã€ï¼Œé‚£ä½ æ˜¯åœ¨å°ä»€éº¼èªªã€Œä¸ã€ï¼Ÿ', 'ç•¶å®ƒå£æ‰æ™‚ï¼Œä½ çœ‹åˆ°å’Œè½åˆ°äº†ä»€éº¼ï¼Ÿ', 'æˆ‘å€‘èƒ½åšäº›ä»€éº¼ä¾†æ”¹é€²ï¼Ÿ'], profile: { 'æ¢ç´¢æ€§': 4, 'æŒ‡å°æ€§': 3, 'å»ºè¨­æ€§': 5, 'å½±éŸ¿æ€§': 1, 'çªç ´æ€§': 2 } },
                        { id: 'articulate', moduleId: 'suggest', name: 'è¡¨è¿° (Articulate)', title: 'è¬›è¿°æ•…äº‹çš„æ™ºæ…§', core: 'å®ƒå…·æœ‰ä¸€ç¨®æ‚„ç„¶çš„å½±éŸ¿åŠ›ï¼Œæ˜¯èƒ½å¤ å¸å¼•ã€æ•æ‰ä¸¦è¿·æƒ‘äººå¿ƒçš„è²éŸ³ã€‚', functions: ['æ•æ‰æ­£åœ¨ç™¼ç”Ÿäº‹æƒ…çš„ç²¾é«“', 'å‰µå»ºä¸€å€‹å»ºç«‹é—œä¿‚çš„ä¸­æ€§å¹³å°', 'æŠ“ä½æ³¨æ„åŠ›ä¸¦ç²å¾—å½±éŸ¿åŠ›'], examples: ['ç¸½çµä¾†èªªï¼Œæˆ‘è½åˆ°çš„æ˜¯...', 'æ‰€ä»¥æˆ‘è©¦åœ–è¦èªªçš„æ˜¯...', 'æ ¹æ“šæ•¸æ“š...'], profile: { 'æ¢ç´¢æ€§': 2, 'æŒ‡å°æ€§': 2, 'å»ºè¨­æ€§': 4, 'å½±éŸ¿æ€§': 4, 'çªç ´æ€§': 1 } },
                        { id: 'advocate', moduleId: 'suggest', name: 'å€¡å° (Advocate)', title: 'è¨´è«¸ç†æ™ºèˆ‡æƒ…æ„Ÿçš„æ™ºæ…§', core: 'ã€Œå€¡å°ã€è²éŸ³è¢«ç”¨ä¾†æ”¾å¤§æˆ‘å€‘çš„è¨Šæ¯ï¼Œæä¾›ä¿¡å¿µã€å¼·åŠ›æ¿€å‹µä»–äººã€‚', functions: ['å€¡å°ä¸€å€‹æ–°çš„è¦–è§’', 'èªªæœä»–äººæ¥å—ä¸€å€‹è§€é»æˆ–æ±ºå®š', 'æ¿€å‹µä»–äºº'], examples: ['ç‚ºäº†é€²æ­¥ï¼Œæˆ‘å€‘éœ€è¦å …æŒæ›´é«˜çš„æ¨™æº–ã€‚', 'æˆ‘çœŸçš„èªç‚ºé€™æ¨£åšæ›´å¥½ï¼ŒåŸå› å¦‚ä¸‹...', 'é€™çœ‹èµ·ä¾†å¾ˆæ£’ï¼'], profile: { 'æ¢ç´¢æ€§': 1, 'æŒ‡å°æ€§': 3, 'å»ºè¨­æ€§': 2, 'å½±éŸ¿æ€§': 5, 'çªç ´æ€§': 3 } },
                        { id: 'advise', moduleId: 'suggest', name: 'å»ºè­° (Advise)', title: 'è´ˆäºˆç­”æ¡ˆçš„æ™ºæ…§', core: 'ã€Œå»ºè­°ã€çš„ç›®æ¨™å¾ˆç°¡å–®ï¼šé€éæä¾›æ·±æ€ç†Ÿæ…®çš„ç­”æ¡ˆä¾†æœå‹™ä»–äººã€‚', functions: ['è®“ä»–äººå®‰å¿ƒ', 'è¡¨é”ä¸¦é‚€è«‹ä»–äººçš„èæ´½é—œä¿‚', 'å»ºç«‹ä¿¡è­½'], examples: ['æˆ‘æ¯”è¼ƒäº†é€™äº›é¸é …...', 'æ ¹æ“šæˆ‘çš„ç¶“é©—ï¼Œæˆ‘èªç‚ºä½ æ‡‰è©²...', 'å¦‚æœæˆ‘è™•åœ¨ä½ çš„ä½ç½®ï¼Œæˆ‘æœƒé€™éº¼åš...'], profile: { 'æ¢ç´¢æ€§': 1, 'æŒ‡å°æ€§': 4, 'å»ºè¨­æ€§': 3, 'å½±éŸ¿æ€§': 4, 'çªç ´æ€§': 1 } },
                        { id: 'critique', moduleId: 'tell', name: 'è©•è«– (Critique)', title: 'å‰–æçš„æ™ºæ…§', core: 'ã€Œè©•è«–ã€é€éè©•ä¼°ä¸€å€‹æƒ³æ³•æˆ–è«–é»ä¸­çš„å„ªç¼ºé»ä¾†å¢é€²ç†è§£ã€‚', functions: ['å¯©æŸ¥æƒ³æ³•æˆ–è§€é»', 'é©…å‹•åæ€èˆ‡è²¬ä»»æ„Ÿ', 'è¡¨é”ä¸€å€‹å¯é çš„è¡Œå‹•åŸå‰‡æˆ–æ¨™æº–'], examples: ['ä¸€æ–¹é¢...ä½†å¦ä¸€æ–¹é¢...', 'é€™å€‹è¨ˆç•«çš„å„ªé»å’Œç¼ºé»å°‡æœƒæ˜¯...', 'æˆ‘å–œæ­¡æ–°åŠŸèƒ½ï¼Œä½†å¦‚æœ...'], profile: { 'æ¢ç´¢æ€§': 2, 'æŒ‡å°æ€§': 3, 'å»ºè¨­æ€§': 5, 'å½±éŸ¿æ€§': 2, 'çªç ´æ€§': 3 } },
                        { id: 'correct', moduleId: 'tell', name: 'ç³¾æ­£ (Correct)', title: 'ç®¡ç†ç•Œç·šçš„æ™ºæ…§', core: 'ã€Œç³¾æ­£ã€è²éŸ³æ˜¯ä¸€å€‹å …å®šçš„åš®å°ï¼Œå‘Šè¨´æˆ‘å€‘å“ªè£¡å‡ºéŒ¯äº†ï¼Œè¦æ±‚éµå®ˆã€åŠƒå®šç•Œç·šã€‚', functions: ['ç¶­æŒæ¨™æº–æˆ–æœŸæœ›', 'ä¿æŒäº‹æƒ…åœ¨æŒæ§ä¹‹ä¸­', 'ç¢ºä¿è²«å¾¹åŸ·è¡Œèˆ‡é€£çºŒæ€§'], examples: ['æˆ‘çœ‹åˆ°ä½ æ˜¯é€™æ¨£åšçš„ï¼Œä½†é€™æ‰æ˜¯æ‡‰è©²çš„åšæ³•ã€‚', 'ä½ æ‡‰è©²æ”¹åšé€™å€‹...', 'è«‹å°‡æ­¤æ›´æ”¹ç‚º...'], profile: { 'æ¢ç´¢æ€§': 1, 'æŒ‡å°æ€§': 5, 'å»ºè¨­æ€§': 3, 'å½±éŸ¿æ€§': 2, 'çªç ´æ€§': 4 } },
                        { id: 'challenge', moduleId: 'tell', name: 'æŒ‘æˆ° (Challenge)', title: 'çªç ´çš„æ™ºæ…§', core: 'ã€ŒæŒ‘æˆ°ã€è²éŸ³è¶…è¶Šäº†åå°ã€‚å®ƒæ˜¯é—œæ–¼çªç ´ï¼Œè®“äººå€‘åœä¸‹ä¾†æ€è€ƒã€Œç‚ºä»€éº¼ã€ã€‚', functions: ['æ”¹è®Šç„¦é»æˆ–æ–¹å‘', 'æŒ‡å‡ºæƒ³æ³•ä¸­çš„é™åˆ¶æˆ–å‡è¨­', 'æ¿€ç™¼æ”¹è®Š'], examples: ['æˆ‘å€‘ç‚ºä»€éº¼ä¸æ”¹ç”¨é€™ç¨®æ–¹å¼åšå‘¢ï¼Ÿ', 'æˆ‘ä¸åŒæ„ï¼', 'çµ•å°æœ‰æ›´å¥½çš„æ–¹æ³•å¯ä»¥åšåˆ°é€™ä¸€é»ã€‚'], profile: { 'æ¢ç´¢æ€§': 2, 'æŒ‡å°æ€§': 4, 'å»ºè¨­æ€§': 2, 'å½±éŸ¿æ€§': 3, 'çªç ´æ€§': 5 } }
                    ]
                };
                const root = document.getElementById('soundwave-root');
                if (!root) return;
                const moduleNav = root.querySelector('#module-nav');
                const voiceCardsContainer = root.querySelector('#voice-cards-container');
                const contentPanel = root.querySelector('#content-panel');
                const voiceSectionTitle = root.querySelector('#voice-section-title');
                
                let currentModuleId = 'ask';
                let currentVoiceId = 'inquire';
                let chart;
                
                function renderModuleTabs() {
                    const module = soundWaveData.modules.find(m => m.id === currentModuleId);
                    moduleNav.innerHTML = soundWaveData.modules.map(m => `
                        <button data-id="${m.id}" class="module-tab w-full sm:w-auto text-lg font-bold py-3 px-6 rounded-lg transition-all ${m.id === currentModuleId ? 'text-white' : 'bg-white hover:bg-gray-100'}" style="${m.id === currentModuleId ? 'background-color:' + m.color : ''}">
                            ${m.name}
                        </button>
                    `).join('');
                }

                function renderVoiceCards(moduleId) {
                    const voices = soundWaveData.voices.filter(v => v.moduleId === moduleId);
                    const moduleColor = soundWaveData.modules.find(m => m.id === moduleId).color;
                    voiceCardsContainer.innerHTML = voices.map(voice => `
                        <div data-id="${voice.id}" class="voice-card bg-white p-5 rounded-xl border-2 shadow-md cursor-pointer hover:shadow-xl" style="border-color:${voice.id === currentVoiceId ? moduleColor : 'transparent'}">
                            <h3 class="font-bold text-lg text-gray-800">${voice.name}</h3>
                            <p class="text-sm text-gray-500">${voice.title}</p>
                        </div>
                    `).join('');
                }

                function renderContent(voiceId) {
                    const voice = soundWaveData.voices.find(v => v.id === voiceId);
                    if (!voice) return;
                    contentPanel.style.opacity = 0;
                    setTimeout(() => {
                        contentPanel.innerHTML = `
                            <h2 class="text-3xl font-bold text-gray-800 mb-2">${voice.name}</h2>
                            <p class="text-lg text-gray-500 font-semibold mb-4">${voice.title}</p>
                            <p class="text-base text-gray-600 leading-relaxed mb-6">${voice.core}</p>
                            <div class="space-y-4">
                                <div><h4 class="font-bold text-gray-700 mb-2">åŠŸèƒ½ï¼š</h4><ul class="list-disc list-inside space-y-1 text-gray-600">${voice.functions.map(f => `<li>${f}</li>`).join('')}</ul></div>
                                <div><h4 class="font-bold text-gray-700 mb-2">ç¯„ä¾‹ï¼š</h4><ul class="list-disc list-inside space-y-1 text-gray-600">${voice.examples.map(e => `<li>${e}</li>`).join('')}</ul></div>
                            </div>
                        `;
                        contentPanel.style.opacity = 1;
                    }, 200);
                }
                
                function updateSectionTitle(moduleId) {
                    const module = soundWaveData.modules.find(m => m.id === moduleId);
                    if(module) voiceSectionTitle.textContent = module.name;
                }

                function initChart() {
                    if (chart) chart.destroy();
                    const ctx = root.querySelector('#voiceChart');
                    if (!ctx) return;
                    const voice = soundWaveData.voices.find(v => v.id === currentVoiceId);
                    const module = soundWaveData.modules.find(m => m.id === voice.moduleId);
                    chart = new Chart(ctx.getContext('2d'), {
                        type: 'radar',
                        data: {
                            labels: Object.keys(voice.profile),
                            datasets: [{
                                label: voice.name,
                                data: Object.values(voice.profile),
                                backgroundColor: `${module.color}33`,
                                borderColor: module.color,
                                borderWidth: 2,
                                pointBackgroundColor: module.color,
                            }]
                        },
                        options: {
                            maintainAspectRatio: false,
                            scales: { r: { angleLines: { color: '#E5E7EB' }, grid: { color: '#F3F4F6' }, pointLabels: { font: { size: 14, family: "'Noto Sans TC', sans-serif" }, color: '#4B5563' }, ticks: { backdropColor: 'transparent', stepSize: 1, max: 5, min: 0 } } },
                            plugins: { legend: { display: false } }
                        }
                    });
                }
                
                function updateChart(voiceId) {
                    const voice = soundWaveData.voices.find(v => v.id === voiceId);
                    const module = soundWaveData.modules.find(m => m.id === voice.moduleId);
                    if (!voice || !chart) return;
                    chart.data.datasets[0].label = voice.name;
                    chart.data.datasets[0].data = Object.values(voice.profile);
                    chart.data.datasets[0].backgroundColor = `${module.color}33`;
                    chart.data.datasets[0].borderColor = module.color;
                    chart.data.datasets[0].pointBackgroundColor = module.color;
                    chart.update();
                }
                
                function handleModuleSelect(e) {
                    const target = e.target.closest('.module-tab');
                    if (!target) return;
                    currentModuleId = target.dataset.id;
                    currentVoiceId = soundWaveData.voices.find(v => v.moduleId === currentModuleId).id;
                    renderModuleTabs();
                    renderVoiceCards(currentModuleId);
                    renderContent(currentVoiceId);
                    updateChart(currentVoiceId);
                    updateSectionTitle(currentModuleId);
                }

                function handleVoiceSelect(e) {
                    const target = e.target.closest('.voice-card');
                    if (!target) return;
                    currentVoiceId = target.dataset.id;
                    renderVoiceCards(currentModuleId);
                    renderContent(currentVoiceId);
                    updateChart(currentVoiceId);
                }

                moduleNav.addEventListener('click', handleModuleSelect);
                voiceCardsContainer.addEventListener('click', handleVoiceSelect);
                
                renderModuleTabs();
                renderVoiceCards(currentModuleId);
                renderContent(currentVoiceId);
                initChart();
                updateSectionTitle(currentModuleId);
            }


            // --- Main Portal Logic ---

            launchSoundwaveBtn.addEventListener('click', () => {
                toolTitle.textContent = 'SoundWave äº’å‹•å¼æ¢ç´¢å·¥å…·';
                toolContainer.innerHTML = soundwaveToolHTML;
                mainPortal.style.display = 'none';
                toolView.style.display = 'block';
                window.scrollTo(0, 0);
                initSoundWaveTool();
            });
            
            launchCoachTalkBtn.addEventListener('click', () => {
                toolTitle.textContent = 'æ•™ç·´å°è©±å¡ç‰‡';
                toolContainer.innerHTML = coachTalkCardToolHTML;
                mainPortal.style.display = 'none';
                toolView.style.display = 'block';
                window.scrollTo(0, 0);
                initCoachTalkCardTool();
            });

            launchQuizBtn.addEventListener('click', () => {
                toolTitle.textContent = 'æƒ…å¢ƒæ¸¬é©—';
                toolContainer.innerHTML = quizToolHTML;
                mainPortal.style.display = 'none';
                toolView.style.display = 'block';
                window.scrollTo(0, 0);
                initQuizTool();
            });

            backToPortalBtn.addEventListener('click', () => {
                mainPortal.style.display = 'block';
                toolView.style.display = 'none';
                toolContainer.innerHTML = '';
                window.scrollTo(0, 0);
            });

        });
    </script>
</body>
</html>
